## 数据库
数据库：长期储存在计算机内，有组织的、可共享的大量数据集合
数据库管理系统：和操作系统一样的基础软件
数据库系统：由数据库、数据库管理系统及其应用开发工具、应用程序和数据库管理员组成的系统

### 特点
共享性高、冗余低、易拓展、独立性高(物理和逻辑)

### 数据模型
数据模型包含三个组成要素，分别是数据结构、操作集合和完整性约束
![模型](https://img2018.cnblogs.com/blog/1404456/201910/1404456-20191004233423078-748387205.jpg)

### 模式结构
外模式：数据库用户的数据视图，一个数据库可以有多个。  
模式：数据库中全体数据的逻辑结构和特征的描述，一个数据库只有一个。  
内模式：数据物理存储和存储方式的描述，一个数据库只有一个。  
外模式/模式映像：模式改变，映像改变，不影响外模式，保证逻辑独立性。 
模式/内模式映射：内模式改变，映像改变，不影响模式，保证物理独立性。  

![结构](https://img.php.cn/upload/image/379/847/722/1627026838410576.png)

### 完整性
实体完整性：主码唯一，不为空  
参照完整性：外码  
用户定义完整性：约束条件  

### 视图
视图是一个虚表，可以理解为外模式。数据库只存放视图的定义，而不存放视图对应的数据，这些数据仍存放在原来的基本表中。

### 触发器
当一张表发生了某件事(插入、删除、更新操作)，然后自动触发了预先编写好的若干条SQL语句的执行

### 事务
四大特性：原子性、一致性、隔离性、持久性
#### 事务失败
故障：事务内部故障、系统故障、介质故障、电脑病毒  
恢复技术：日志、数据转储(备份)
恢复手段：事务内部(撤销)、系统故障(没有提交的撤销，已经提交的撤销重做)

### 并发控制
丢失修改、读脏数据、不可重复读

#### 解决
一级封锁：修改加写锁，直到结束，解决丢失修改
二级封锁：读加读锁，读完释放，解决读脏数据
三级封锁：读加读锁，直到结束，解决不可重复读

#### 可串行性
如果某个调度等价于一个串行调度，则称该调度是可串行化的，如果一个调度是冲突可串行的，那么它是可串行的。   
如果通过交换两个无冲突的操作能够变为串行调度，那么这个调度为冲突可串行性的调度。  
可以通过拓扑排序判断，有环则无法串行。  

### 范式
1NF：所有属性都不可再分
2NF：属于1NF，表中的每列都和整个主键整体相关，而不是其中一部分
3NF：属于2NF，每一列数据都和主键直接相关，而不能间接相关
BCNF：属于3NF，消除了主键之间的间接相关
